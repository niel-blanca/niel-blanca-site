<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Pamasko Aguinaldo Quiz - Fun Christmas quiz for Filipino godparents and godchildren">
    <meta name="author" content="Niel Blanca">
    <title>ğŸ„ Pamasko Quiz 2025 - Ninong/Ninang Edition</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Floating Christmas Decorations -->
    <div class="parol-container">
        <div class="parol" style="top: 10%; left: 10%; animation-delay: 0s;">â­</div>
        <div class="parol" style="top: 20%; right: 15%; animation-delay: 1s;">ğŸ„</div>
        <div class="parol" style="bottom: 15%; left: 20%; animation-delay: 2s;">âœ¨</div>
        <div class="parol" style="bottom: 25%; right: 10%; animation-delay: 1.5s;">ğŸ</div>
        <div class="parol" style="top: 50%; left: 5%; animation-delay: 0.5s;">ğŸ””</div>
        <div class="parol" style="top: 60%; right: 8%; animation-delay: 2.5s;">â˜ƒï¸</div>
    </div>

    <!-- Main Container -->
    <div class="container" id="app">
        <!-- Loading State -->
        <div id="loadingScreen" class="loading-screen">
            <div class="loading-content">
                <div class="loading-spinner">ğŸ</div>
                <p>Loading your quiz...</p>
            </div>
        </div>

        <!-- Header -->
        <header class="header">
            <h1 class="header-title">ğŸ… Pamasko Quiz 2025 ğŸ„</h1>
            <p class="header-subtitle">"Ninong/Ninang loves you! Let's see how you're really doing!" ğŸ’</p>
        </header>

        <!-- Progress Bar -->
        <div class="progress-bar-container" id="progressContainer">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
                <span class="progress-text" id="progressText">0/10</span>
            </div>
        </div>

        <!-- Quiz Section -->
        <section id="quizSection" class="quiz-section hidden">
            <!-- Question Number -->
            <div class="question-number" id="questionNumber">Question 1 of 10</div>

            <!-- Question Card -->
            <div class="question-card">
                <div class="question-category" id="questionCategory">Category</div>
                <h2 class="question-text" id="questionText">Loading question...</h2>
            </div>

            <!-- Answer Options -->
            <div class="answer-options" id="answerOptions">
                <!-- Options will be dynamically inserted here -->
            </div>

            <!-- Fun Fact -->
            <div class="fun-fact" id="funFact">
                <div class="fun-fact-icon">ğŸ’¡</div>
                <div class="fun-fact-text" id="funFactText">Fun facts will appear here!</div>
            </div>
        </section>

        <!-- Result Section -->
        <section id="resultSection" class="result-section hidden">
            <!-- GCash-Style Voucher -->
            <div class="voucher-card" id="voucherCard">
                <div class="voucher-header">
                    <div class="voucher-header-icons">
                        <span class="voucher-icon">ğŸ</span>
                        <span class="voucher-sparkle">âœ¨</span>
                    </div>
                    <h2 class="voucher-title">ğŸ„ PAMASKO VOUCHER ğŸ„</h2>
                    <p class="voucher-validity">Valid Christmas 2025</p>
                </div>

                <div class="voucher-body">
                    <!-- Prize Amount -->
                    <div class="prize-amount-container">
                        <div class="prize-currency">â‚±</div>
                        <div class="prize-amount" id="prizeAmount">500</div>
                    </div>
                    
                    <!-- Bonus/Penalty Info -->
                    <div class="prize-bonus" id="prizeBonus"></div>

                    <!-- Score Summary -->
                    <div class="score-summary">
                        <div class="score-title" id="scoreTitle">Assessment Result</div>
                        <div class="score-info" id="scoreInfo">Score: 0%</div>
                    </div>

                    <!-- Stats Grid -->
                    <div class="stats-grid">
                        <div class="stat-card stat-blue">
                            <div class="stat-icon">ğŸ†</div>
                            <div class="stat-value" id="statPoints">0/50</div>
                            <div class="stat-label">Points</div>
                        </div>
                        <div class="stat-card stat-green">
                            <div class="stat-icon">ğŸ“Š</div>
                            <div class="stat-value" id="statPercentage">0%</div>
                            <div class="stat-label">Score</div>
                        </div>
                        <div class="stat-card stat-purple">
                            <div class="stat-icon">ğŸ’</div>
                            <div class="stat-value" id="statAttempts">1</div>
                            <div class="stat-label">Attempts</div>
                        </div>
                    </div>

                    <!-- Voucher Code -->
                    <div class="voucher-code-container">
                        <div class="voucher-code-label">Voucher Code</div>
                        <div class="voucher-code" id="voucherCode">PMSK-12345678</div>
                    </div>
                </div>
            </div>

            <!-- Detailed Message Card -->
            <div class="message-card">
                <h3 class="message-card-title">
                    <span class="message-icon">ğŸ’Œ</span>
                    Ninong/Ninang's Message
                </h3>

                <!-- Assessment -->
                <div class="message-section message-blue">
                    <div class="message-label">ğŸ“ Assessment:</div>
                    <p class="message-text" id="messageAssessment"></p>
                </div>

                <!-- Motivation -->
                <div class="message-section message-yellow">
                    <div class="message-label">ğŸ’ª Motivation:</div>
                    <p class="message-text" id="messageMotivation"></p>
                </div>

                <!-- Action Plan -->
                <div class="message-section message-green">
                    <div class="message-label">ğŸ¯ Action Plan:</div>
                    <p class="message-text" id="messageAction"></p>
                </div>

                <!-- Insights -->
                <div class="message-section message-purple">
                    <div class="message-label">ğŸ“Š Insights:</div>
                    <div class="insights-list" id="insightsList"></div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-primary btn-restart" id="restartBtn">
                    <span class="btn-icon">ğŸ”„</span>
                    Try Again - New Questions!
                </button>
                <button class="btn btn-secondary btn-history" id="historyBtn">
                    <span class="btn-icon">ğŸ“œ</span>
                    View History
                </button>
            </div>

            <!-- Screenshot Reminder -->
            <div class="share-section">
                <button class="btn btn-share" id="shareBtn">
                    <span class="btn-icon">ğŸ“¸</span>
                    Screenshot & Share to Ninong/Ninang
                </button>
                
                <div class="verification-info">
                    <div class="verification-code-display">
                        <span class="verification-label">Your Verification Code:</span>
                        <span class="verification-code-large" id="shareVerificationCode">PMSK-12345678</span>
                    </div>
                    <p class="verification-note">
                        ğŸ’¡ <strong>Important:</strong> Take a screenshot and send this to your Ninong/Ninang on FB Messenger!<br>
                        They can verify your result at: <strong>verify.html</strong>
                    </p>
                </div>
            </div>

            <!-- Share Modal -->
            <div id="shareModal" class="modal hidden">
                <div class="modal-content modal-large">
                    <div class="modal-header">
                        <h3>ğŸ“¸ Share Your Result</h3>
                        <button class="modal-close" id="closeShareBtn">âœ•</button>
                    </div>
                    <div class="modal-body">
                        <!-- Voucher Preview for Screenshot -->
                        <div id="voucherPreview" class="voucher-preview">
                            <!-- This will be a clone of the voucher card for screenshot -->
                        </div>
                        
                        <!-- Instructions -->
                        <div class="share-instructions">
                            <h4>ğŸ“± How to Share:</h4>
                            <ol>
                                <li><strong>Take a Screenshot</strong> of the voucher above</li>
                                <li><strong>Send via FB Messenger</strong> to your Ninong/Ninang</li>
                                <li><strong>Include your verification code:</strong> <code id="modalVerificationCode"></code></li>
                                <li><strong>Wait for verification</strong> - Ninong/Ninang will check at verify.html</li>
                            </ol>
                            
                            <div class="share-tip">
                                ğŸ’¡ <strong>Tip:</strong> Your Ninong/Ninang can verify your quiz at the verification page to confirm your results and see all your answers!
                            </div>
                        </div>
                        
                        <!-- Quiz History -->
                        <div class="share-history">
                            <h4>ğŸ“œ Your Quiz History</h4>
                            <div id="shareHistoryList" class="history-compact">
                                <!-- History items will be inserted here -->
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" id="downloadVoucherBtn">
                            <span class="btn-icon">ğŸ’¾</span>
                            Save Voucher Image
                        </button>
                        <button class="btn btn-secondary" onclick="window.print()">
                            <span class="btn-icon">ğŸ–¨ï¸</span>
                            Print Voucher
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- History Modal -->
        <div id="historyModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>ğŸ“œ Quiz History</h3>
                    <button class="modal-close" id="closeHistoryBtn">âœ•</button>
                </div>
                <div class="modal-body" id="historyList">
                    <!-- History items will be inserted here -->
                </div>
                <div class="modal-footer">
                    <button class="btn btn-danger" id="clearHistoryBtn">Clear History</button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Made with â¤ï¸ by <strong>Niel Blanca</strong> - Filipino Christmas 2025 Edition</p>
            <p>Follow on FB Page: <a href="https://www.facebook.com/StackRealm/" target="_blank" rel="noopener">StackRealm</a></p>
        </footer>
    </div>

    <!-- Scripts - Load in order -->
    <script src="js/config.js"></script>
    <script src="js/questions/question-bank.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/scoring.js"></script>
    <script src="js/messages.js"></script>
    <script src="js/main.js"></script>
</body>
</html>